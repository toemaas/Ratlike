[gd_scene load_steps=13 format=3 uid="uid://5vjitlxlr6gq"]

[ext_resource type="Script" uid="uid://cq1lio4ksep8g" path="res://main.gd" id="1_0l1we"]
[ext_resource type="PackedScene" uid="uid://0nd7lniffuj4" path="res://player.tscn" id="2_foyw7"]
[ext_resource type="PackedScene" uid="uid://c3q4oacop5lk4" path="res://RatGameLevel1Final.tscn" id="2_xq862"]
[ext_resource type="PackedScene" uid="uid://driilhpt113id" path="res://teleporter.tscn" id="3_foyw7"]
[ext_resource type="PackedScene" uid="uid://c14c4ncsogmd8" path="res://hud.tscn" id="3_l6eyr"]
[ext_resource type="PackedScene" uid="uid://c5sulhcjpw1ms" path="res://cheese.tscn" id="5_xsnk2"]
[ext_resource type="PackedScene" uid="uid://baurs0gde82o3" path="res://power_up_choice.tscn" id="7_6t2mo"]
[ext_resource type="PackedScene" uid="uid://uud775qrqjh1" path="res://pause_menu.tscn" id="7_c00e3"]
[ext_resource type="PackedScene" uid="uid://dhucqd6yr306w" path="res://powerup.tscn" id="9_466b2"]
[ext_resource type="PackedScene" uid="uid://diog71fvn2qmr" path="res://mouse.tscn" id="9_evv1w"]
[ext_resource type="Script" uid="uid://do7yeglyyna3w" path="res://powerup.gd" id="10_evv1w"]

[sub_resource type="NavigationMesh" id="NavigationMesh_466b2"]
vertices = PackedVector3Array(-74.5, 0.5, -74.5, -74.5, 0.5, 74.5, 74.5, 0.5, 74.5, 74.5, 0.5, -74.5)
polygons = [PackedInt32Array(3, 2, 0), PackedInt32Array(0, 2, 1)]

[node name="LevelOne" type="Node3D"]
script = ExtResource("1_0l1we")

[node name="Environment" parent="." instance=ExtResource("2_xq862")]

[node name="Box1" type="NavigationRegion3D" parent="Environment"]
transform = Transform3D(0.08, 0, 0, 0, 0.08, 0, 0, 0, 0.08, 25.150469, 5.326341, 8.0213175)
navigation_mesh = SubResource("NavigationMesh_466b2")

[node name="Washer" type="NavigationRegion3D" parent="Environment"]
transform = Transform3D(0.2, 0, 0, 0, 0.2, 0, 0, 0, 0.2, -10.2151, 24.5, -6.7950473)
navigation_mesh = SubResource("NavigationMesh_466b2")

[node name="Floor" type="NavigationRegion3D" parent="Environment"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 5.024, -1, 8.663)
navigation_mesh = SubResource("NavigationMesh_466b2")

[node name="Box3" type="NavigationRegion3D" parent="Environment"]
transform = Transform3D(0.08, 0, 0, 0, 0.08, 0, 0, 0, 0.08, 29.925377, 15.4305, -5.111849)
navigation_mesh = SubResource("NavigationMesh_466b2")

[node name="Shelf2" type="NavigationRegion3D" parent="Environment"]
transform = Transform3D(0.3, 0, 0, 0, 1, 0, 0, 0, 0.04, -4.015407, 34.825905, -26.856344)
navigation_mesh = SubResource("NavigationMesh_466b2")

[node name="Book1" type="NavigationRegion3D" parent="Environment"]
transform = Transform3D(0.05, 0, 0, 0, 0.05, 0, 0, 0, 0.05, 25.078672, 40.39423, -27.58096)
navigation_mesh = SubResource("NavigationMesh_466b2")

[node name="Player" parent="." instance=ExtResource("2_foyw7")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -27.8604, 2.70856, 21.3886)
collision_mask = 19

[node name="Hud" parent="Player" instance=ExtResource("3_l6eyr")]

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.270432, 0.962739, 0, -0.962739, 0.270432, 0, 52.5451, 0)

[node name="Rathole" parent="." instance=ExtResource("3_foyw7")]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, 37.166298, 40.9057, 11.577588)
needed_cheese = 5

[node name="Cheese" type="Node3D" parent="."]

[node name="Cheese 1" parent="Cheese" instance=ExtResource("5_xsnk2")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.991721, 24.9392, -0.814863)

[node name="Cheese 2" parent="Cheese" instance=ExtResource("5_xsnk2")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -30.4581, 8.44798, -27.7142)

[node name="Cheese 3" parent="Cheese" instance=ExtResource("5_xsnk2")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -14.191149, 24.671343, 28.579233)

[node name="Cheese 4" parent="Cheese" instance=ExtResource("5_xsnk2")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -32.763428, 33.42312, -25.836172)

[node name="Cheese 5" parent="Cheese" instance=ExtResource("5_xsnk2")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 29.56969, -23.152779)

[node name="Cheese 6" parent="Cheese" instance=ExtResource("5_xsnk2")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 30.10005, -0.33848846, -14.010427)

[node name="Cheese 7" parent="Cheese" instance=ExtResource("5_xsnk2")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -15.281655, 48.224598, 29.011124)

[node name="PowerUpChoice" parent="." instance=ExtResource("7_6t2mo")]
visible = false

[node name="PauseMenu" parent="." instance=ExtResource("7_c00e3")]

[node name="Node3D" type="Node3D" parent="."]

[node name="Mouse" parent="Node3D" instance=ExtResource("9_evv1w")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 26.372, 5.4, 6.291)
patrol_points = Array[Vector3]([Vector3(25, 5.4, 12.5), Vector3(25, 5.4, 4.7)])
movement_speed = 10.0

[node name="Mouse2" parent="Node3D" instance=ExtResource("9_evv1w")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -15, 25, -15)
patrol_points = Array[Vector3]([Vector3(-15, 0, -15), Vector3(3, 0, 3), Vector3(3, 0, -15), Vector3(-15, 0, 3)])
movement_speed = 15.0

[node name="Mouse3" parent="Node3D" instance=ExtResource("9_evv1w")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -15, 25, 3)
patrol_points = Array[Vector3]([Vector3(-15, 0, 3), Vector3(-15, 0, -15), Vector3(3, 0, -15), Vector3(3, 0, 3)])
movement_speed = 15.0

[node name="Mouse4" parent="Node3D" instance=ExtResource("9_evv1w")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3, 25, -15)
patrol_points = Array[Vector3]([Vector3(3, 0, -15), Vector3(3, 0, 3), Vector3(-15, 0, 3), Vector3(-15, 0, -15)])
movement_speed = 15.0

[node name="Mouse5" parent="Node3D" instance=ExtResource("9_evv1w")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 17.96064, 0, 25.40438)
patrol_points = Array[Vector3]([Vector3(6, 0, 27), Vector3(3, 0, 6.8), Vector3(13.351, 0, 10.4), Vector3(15.931, 0, 18.412), Vector3(17.961, 0, 25.404)])
movement_speed = 15.0

[node name="Mouse6" parent="Node3D" instance=ExtResource("9_evv1w")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 30.86345, 15.651266, -2.5547931)
patrol_points = Array[Vector3]([Vector3(26.616, 0, -6.089), Vector3(31.245, 0, -5.328), Vector3(27.516, 0, -1.406), Vector3(29.035, 0, -7.191), Vector3(30.863, 0, -2.555)])
movement_speed = 8.0

[node name="Mouse7" parent="Node3D" instance=ExtResource("9_evv1w")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.2549801, -0.14553857, -26.995895)
patrol_points = Array[Vector3]([Vector3(-26.283, 5.4, -26.996), Vector3(1.255, 5.4, -26.996)])
movement_speed = 10.0

[node name="Mouse8" parent="Node3D" instance=ExtResource("9_evv1w")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 5.515348, 35.93934, -28.285097)
patrol_points = Array[Vector3]([Vector3(-24.023, 5.4, -25.225), Vector3(-19.498, 5.4, -25.225), Vector3(-16.785, 0, -28.119), Vector3(-13.593, 0, -25.199), Vector3(-10.273, 0, -27.825), Vector3(-3.322, 0, -25.329), Vector3(5.515, 0, -28.285), Vector3(-3.322, 0, -25.329), Vector3(-10.273, 0, -27.825), Vector3(-13.593, 0, -25.199), Vector3(-16.785, 0, -28.119), Vector3(-19.498, 0, -25.225)])

[node name="Mouse9" parent="Node3D" instance=ExtResource("9_evv1w")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 26.507355, 40.898285, -26.856382)
patrol_points = Array[Vector3]([Vector3(23.096, 5.4, -27.841), Vector3(26.507, 5.4, -26.856)])
movement_speed = 5.0

[node name="Powerups" type="Node3D" parent="."]

[node name="Powerup" parent="Powerups" instance=ExtResource("9_466b2")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -10.9054, 11.7619, -27.5337)
script = ExtResource("10_evv1w")

[connection signal="jump_charge_changed" from="Player" to="Player/Hud" method="_on_player_jump_charge_changed"]
[connection signal="cheese_collected" from="Cheese/Cheese 1" to="Player" method="collect_cheese"]
[connection signal="cheese_collected" from="Cheese/Cheese 2" to="Player" method="collect_cheese"]
[connection signal="cheese_collected" from="Cheese/Cheese 3" to="Player" method="collect_cheese"]
[connection signal="cheese_collected" from="Cheese/Cheese 4" to="Player" method="collect_cheese"]
[connection signal="cheese_collected" from="Cheese/Cheese 5" to="Player" method="collect_cheese"]
[connection signal="cheese_collected" from="Cheese/Cheese 6" to="Player" method="collect_cheese"]
[connection signal="cheese_collected" from="Cheese/Cheese 7" to="Player" method="collect_cheese"]
[connection signal="powerup_chosen" from="PowerUpChoice" to="Player" method="update_powers"]
[connection signal="squashed" from="Node3D/Mouse" to="Player" method="squashed"]
[connection signal="squashed" from="Node3D/Mouse2" to="Player" method="squashed"]
[connection signal="squashed" from="Node3D/Mouse3" to="Player" method="squashed"]
[connection signal="squashed" from="Node3D/Mouse4" to="Player" method="squashed"]
[connection signal="squashed" from="Node3D/Mouse5" to="Player" method="squashed"]
[connection signal="squashed" from="Node3D/Mouse6" to="Player" method="squashed"]
[connection signal="squashed" from="Node3D/Mouse7" to="Player" method="squashed"]
[connection signal="squashed" from="Node3D/Mouse8" to="Player" method="squashed"]
[connection signal="squashed" from="Node3D/Mouse9" to="Player" method="squashed"]
[connection signal="body_entered" from="Powerups/Powerup" to="Powerups/Powerup" method="_on_body_entered"]
[connection signal="powerup_obtained" from="Powerups/Powerup" to="PowerUpChoice" method="_on_powerup_powerup_obtained"]
