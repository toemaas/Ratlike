[gd_scene load_steps=29 format=3 uid="uid://cmper8kwj5rsl"]

[ext_resource type="PackedScene" uid="uid://c5sulhcjpw1ms" path="res://cheese.tscn" id="1_4eunm"]
[ext_resource type="Script" uid="uid://cq1lio4ksep8g" path="res://main.gd" id="1_77r6m"]
[ext_resource type="PackedScene" uid="uid://0nd7lniffuj4" path="res://player.tscn" id="2_tl3x3"]
[ext_resource type="PackedScene" uid="uid://c14c4ncsogmd8" path="res://hud.tscn" id="3_tl3x3"]
[ext_resource type="PackedScene" uid="uid://driilhpt113id" path="res://teleporter.tscn" id="4_1ohtg"]
[ext_resource type="PackedScene" uid="uid://diog71fvn2qmr" path="res://mouse.tscn" id="6_83smk"]
[ext_resource type="PackedScene" uid="uid://cbei2afxs57dk" path="res://ledge.tscn" id="7_xhw1w"]
[ext_resource type="PackedScene" uid="uid://uud775qrqjh1" path="res://pause_menu.tscn" id="8_aghjf"]

[sub_resource type="BoxMesh" id="BoxMesh_wrtsm"]

[sub_resource type="BoxShape3D" id="BoxShape3D_wrtsm"]
size = Vector3(150, 1, 150)

[sub_resource type="BoxMesh" id="BoxMesh_1f1qf"]
size = Vector3(150, 1, 150)

[sub_resource type="BoxShape3D" id="BoxShape3D_1f1qf"]
size = Vector3(5, 5, 30)

[sub_resource type="BoxMesh" id="BoxMesh_4eunm"]
size = Vector3(6, 6, 30)

[sub_resource type="BoxShape3D" id="BoxShape3D_tl3x3"]
size = Vector3(10, 1, 10)

[sub_resource type="BoxMesh" id="BoxMesh_1ohtg"]
size = Vector3(10, 1, 10)

[sub_resource type="BoxShape3D" id="BoxShape3D_yblg1"]
size = Vector3(10, 1, 10)

[sub_resource type="BoxMesh" id="BoxMesh_83smk"]
size = Vector3(10, 1, 10)

[sub_resource type="BoxShape3D" id="BoxShape3D_xhw1w"]
size = Vector3(15, 5, 50)

[sub_resource type="BoxMesh" id="BoxMesh_77r6m"]
size = Vector3(15, 5, 50)

[sub_resource type="BoxShape3D" id="BoxShape3D_8j3yf"]
size = Vector3(20, 1, 5)

[sub_resource type="BoxMesh" id="BoxMesh_3aqkx"]
size = Vector3(20, 1, 5)

[sub_resource type="BoxShape3D" id="BoxShape3D_sbe25"]
size = Vector3(55, 1, 5)

[sub_resource type="BoxMesh" id="BoxMesh_7sosu"]
size = Vector3(55, 1, 5)

[sub_resource type="BoxShape3D" id="BoxShape3D_p3ws7"]
size = Vector3(3, 1, 3)

[sub_resource type="BoxMesh" id="BoxMesh_al70k"]
size = Vector3(3, 1, 3)

[sub_resource type="BoxShape3D" id="BoxShape3D_f0b1r"]
size = Vector3(10, 1, 10)

[sub_resource type="BoxMesh" id="BoxMesh_3s5iv"]
size = Vector3(10, 1, 10)

[sub_resource type="NavigationMesh" id="NavigationMesh_8j3yf"]
vertices = PackedVector3Array(-74.5, 0.5, -74.5, -74.5, 0.5, 74.5, 74.5, 0.5, 74.5, 74.5, 0.5, -74.5)
polygons = [PackedInt32Array(3, 2, 0), PackedInt32Array(0, 2, 1)]

[node name="Main" type="Node3D"]
script = ExtResource("1_77r6m")

[node name="Environment" type="Node3D" parent="."]

[node name="RatScaleBlock" type="StaticBody3D" parent="Environment"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.51596, 40.0413)
visible = false

[node name="MeshInstance3D" type="MeshInstance3D" parent="Environment/RatScaleBlock"]
mesh = SubResource("BoxMesh_wrtsm")

[node name="MainPlatform" type="StaticBody3D" parent="Environment"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Environment/MainPlatform"]
shape = SubResource("BoxShape3D_wrtsm")

[node name="MeshInstance3D" type="MeshInstance3D" parent="Environment/MainPlatform"]
mesh = SubResource("BoxMesh_1f1qf")

[node name="Block1" type="StaticBody3D" parent="Environment"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -38.2778, 3.38568, 33.4324)

[node name="CollisionShape3D" type="CollisionShape3D" parent="Environment/Block1"]
shape = SubResource("BoxShape3D_1f1qf")

[node name="MeshInstance3D" type="MeshInstance3D" parent="Environment/Block1"]
mesh = SubResource("BoxMesh_4eunm")

[node name="Block2" type="StaticBody3D" parent="Environment"]
transform = Transform3D(-0.0111355, 0.183094, 0.983032, 0.00207389, 0.983096, -0.183082, -0.999936, 0, -0.0113269, -21.7163, 0.598707, 40.466)

[node name="CollisionShape3D" type="CollisionShape3D" parent="Environment/Block2"]
shape = SubResource("BoxShape3D_1f1qf")

[node name="MeshInstance3D" type="MeshInstance3D" parent="Environment/Block2"]
mesh = SubResource("BoxMesh_4eunm")

[node name="Block4" type="StaticBody3D" parent="Environment"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -34.3515, 8.58004, 8.68149)

[node name="CollisionShape3D" type="CollisionShape3D" parent="Environment/Block4"]
shape = SubResource("BoxShape3D_tl3x3")

[node name="MeshInstance3D" type="MeshInstance3D" parent="Environment/Block4"]
mesh = SubResource("BoxMesh_1ohtg")

[node name="Block3" type="StaticBody3D" parent="Environment"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -19.8005, 12.9441, 6.07403)

[node name="CollisionShape3D" type="CollisionShape3D" parent="Environment/Block3"]
shape = SubResource("BoxShape3D_yblg1")

[node name="MeshInstance3D" type="MeshInstance3D" parent="Environment/Block3"]
mesh = SubResource("BoxMesh_83smk")

[node name="Block5" type="StaticBody3D" parent="Environment"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2.1165, 13.5859, -8.25933)

[node name="CollisionShape3D" type="CollisionShape3D" parent="Environment/Block5"]
shape = SubResource("BoxShape3D_xhw1w")

[node name="MeshInstance3D" type="MeshInstance3D" parent="Environment/Block5"]
mesh = SubResource("BoxMesh_77r6m")

[node name="Block7" type="StaticBody3D" parent="Environment"]
transform = Transform3D(-0.851864, -0.52188, 0.0443692, -0.522394, 0.852704, 1.1823e-08, -0.0378338, -0.0231782, -0.999015, 13.1591, 21.0448, -12.4788)

[node name="CollisionShape3D" type="CollisionShape3D" parent="Environment/Block7"]
shape = SubResource("BoxShape3D_8j3yf")

[node name="MeshInstance3D" type="MeshInstance3D" parent="Environment/Block7"]
mesh = SubResource("BoxMesh_3aqkx")
skeleton = NodePath("../../Block7")

[node name="Block6" type="StaticBody3D" parent="Environment"]
transform = Transform3D(0.825685, 0.564131, 0, -0.564131, 0.825685, 0, 0, 0, 1, -17.6629, 21.5481, -6.2394)

[node name="CollisionShape3D" type="CollisionShape3D" parent="Environment/Block6"]
shape = SubResource("BoxShape3D_8j3yf")

[node name="MeshInstance3D" type="MeshInstance3D" parent="Environment/Block6"]
mesh = SubResource("BoxMesh_3aqkx")

[node name="Block8" type="StaticBody3D" parent="Environment"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.83532, 27.2494, -9.21967)

[node name="CollisionShape3D" type="CollisionShape3D" parent="Environment/Block8"]
shape = SubResource("BoxShape3D_sbe25")

[node name="MeshInstance3D" type="MeshInstance3D" parent="Environment/Block8"]
mesh = SubResource("BoxMesh_7sosu")

[node name="Block9" type="StaticBody3D" parent="Environment"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 29.3845, -3.47359)

[node name="CollisionShape3D" type="CollisionShape3D" parent="Environment/Block9"]
shape = SubResource("BoxShape3D_p3ws7")

[node name="MeshInstance3D" type="MeshInstance3D" parent="Environment/Block9"]
mesh = SubResource("BoxMesh_al70k")

[node name="Block10" type="StaticBody3D" parent="Environment"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 27.219, 32.0776)

[node name="CollisionShape3D" type="CollisionShape3D" parent="Environment/Block10"]
shape = SubResource("BoxShape3D_f0b1r")

[node name="MeshInstance3D" type="MeshInstance3D" parent="Environment/Block10"]
mesh = SubResource("BoxMesh_3s5iv")

[node name="NavigationRegion3D" type="NavigationRegion3D" parent="Environment"]
navigation_mesh = SubResource("NavigationMesh_8j3yf")

[node name="Cheese" type="Node3D" parent="."]

[node name="Cheese 1" parent="Cheese" instance=ExtResource("1_4eunm")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -38.3011, 6.39786, 21.9702)

[node name="Cheese 2" parent="Cheese" instance=ExtResource("1_4eunm")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -21.0108, 13.5497, 6.26627)

[node name="Cheese 3" parent="Cheese" instance=ExtResource("1_4eunm")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.04808, 30.4978, -3.38729)

[node name="Cheese 4" parent="Cheese" instance=ExtResource("1_4eunm")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 28.1456, 34.0018)

[node name="Cheese 5" parent="Cheese" instance=ExtResource("1_4eunm")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 13, 1, 13)

[node name="Player" parent="." instance=ExtResource("2_tl3x3")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.7232, 38.4376)

[node name="Hud" parent="Player" instance=ExtResource("3_tl3x3")]

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.354748, 0.934962, 0, -0.934962, 0.354748, 0, 46.8651, 0)

[node name="Teleporter" parent="." instance=ExtResource("4_1ohtg")]
transform = Transform3D(0.668806, 0, -0.743437, 0, 1, 0, 0.743437, 0, 0.668806, 27.0517, 0.365607, 35.0237)
needed_cheese = 4

[node name="Hamster" type="Node3D" parent="."]

[node name="Hamster4" parent="Hamster" instance=ExtResource("6_83smk")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 6.05718, 1, 29.2737)

[node name="Hamster3" parent="Hamster" instance=ExtResource("6_83smk")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.83909, 1, 35.1242)

[node name="Hamster1" parent="Hamster" instance=ExtResource("6_83smk")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4.28663, 1, 31.391)

[node name="Hamster2" parent="Hamster" instance=ExtResource("6_83smk")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 7.63314, 1, 26.61)

[node name="Hamster5" parent="Hamster" instance=ExtResource("6_83smk")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 7.10694, 24.2484)

[node name="PauseMenu" parent="." instance=ExtResource("8_aghjf")]

[node name="Ledge" parent="." instance=ExtResource("7_xhw1w")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -35.1987, 5.50618, 29.6113)

[connection signal="cheese_collected" from="Cheese/Cheese 1" to="Player" method="collect_cheese"]
[connection signal="cheese_collected" from="Cheese/Cheese 2" to="Player" method="collect_cheese"]
[connection signal="cheese_collected" from="Cheese/Cheese 3" to="Player" method="collect_cheese"]
[connection signal="cheese_collected" from="Cheese/Cheese 4" to="Player" method="collect_cheese"]
[connection signal="cheese_collected" from="Cheese/Cheese 5" to="Player" method="collect_cheese"]
[connection signal="body_entered" from="Ledge" to="Player" method="ledge_entered"]
