[gd_scene load_steps=11 format=3 uid="uid://5vjitlxlr6gq"]

[ext_resource type="Script" uid="uid://cq1lio4ksep8g" path="res://main.gd" id="1_0l1we"]
[ext_resource type="PackedScene" uid="uid://c7x704c3xx8s0" path="res://RatGameLevel1Greybox3.tscn" id="1_bo08i"]
[ext_resource type="PackedScene" uid="uid://0nd7lniffuj4" path="res://player.tscn" id="2_foyw7"]
[ext_resource type="PackedScene" uid="uid://driilhpt113id" path="res://teleporter.tscn" id="3_foyw7"]
[ext_resource type="PackedScene" uid="uid://c14c4ncsogmd8" path="res://hud.tscn" id="3_l6eyr"]
[ext_resource type="PackedScene" uid="uid://c5sulhcjpw1ms" path="res://cheese.tscn" id="5_xsnk2"]
[ext_resource type="PackedScene" uid="uid://uud775qrqjh1" path="res://pause_menu.tscn" id="7_c00e3"]
[ext_resource type="PackedScene" uid="uid://cbei2afxs57dk" path="res://ledge.tscn" id="9_466b2"]
[ext_resource type="PackedScene" uid="uid://diog71fvn2qmr" path="res://hamster.tscn" id="9_evv1w"]

[sub_resource type="NavigationMesh" id="NavigationMesh_466b2"]
vertices = PackedVector3Array(-74.5, 0.5, -74.5, -74.5, 0.5, 74.5, 74.5, 0.5, 74.5, 74.5, 0.5, -74.5)
polygons = [PackedInt32Array(3, 2, 0), PackedInt32Array(0, 2, 1)]

[node name="LevelOne" type="Node3D"]
script = ExtResource("1_0l1we")

[node name="Environment" parent="." instance=ExtResource("1_bo08i")]

[node name="NavigationRegion3D" type="NavigationRegion3D" parent="Environment"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 5, 0)
navigation_mesh = SubResource("NavigationMesh_466b2")

[node name="NavigationRegion3D2" type="NavigationRegion3D" parent="Environment"]
transform = Transform3D(0.3, 0, 0, 0, 0.3, 0, 0, 0, 0.3, -10.2151, 24.5, -4.53875)
navigation_mesh = SubResource("NavigationMesh_466b2")

[node name="Player" parent="." instance=ExtResource("2_foyw7")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -8.86054, 28.3752, -8.07339)
collision_mask = 19

[node name="Hud" parent="Player" instance=ExtResource("3_l6eyr")]

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.270432, 0.962739, 0, -0.962739, 0.270432, 0, 40.1985, 0)

[node name="Rathole" parent="." instance=ExtResource("3_foyw7")]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, 36.9045, 38.618, 11.4936)
needed_cheese = 1

[node name="Cheese" type="Node3D" parent="."]

[node name="Cheese 1" parent="Cheese" instance=ExtResource("5_xsnk2")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.991721, 24.9392, -0.814863)

[node name="PauseMenu" parent="." instance=ExtResource("7_c00e3")]

[node name="Ledges" type="Node3D" parent="."]

[node name="Area3D" parent="Ledges" instance=ExtResource("9_466b2")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -25.9703, 5.75587, 0)

[node name="Area3D2" parent="Ledges" instance=ExtResource("9_466b2")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -26.0617, 10.0902, -5.39296)

[node name="Area3D3" parent="Ledges" instance=ExtResource("9_466b2")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -25.7862, 14.7256, 0)

[node name="Area3D4" parent="Ledges" instance=ExtResource("9_466b2")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -25.7463, 18.7135, -7.08896)

[node name="Area3D5" parent="Ledges" instance=ExtResource("9_466b2")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -25.8846, 21.1587, 0)

[node name="Node3D" type="Node3D" parent="."]

[node name="Hamster" parent="Node3D" instance=ExtResource("9_evv1w")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 26.372, 5.4, 6.291)
patrol_points = Array[Vector3]([Vector3(25, 5.4, 12.5), Vector3(25, 5.4, 4.7)])
movement_speed = 15.0

[node name="Hamster2" parent="Node3D" instance=ExtResource("9_evv1w")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -15, 25, -15)
patrol_points = Array[Vector3]([Vector3(-15, 0, -15), Vector3(3, 0, 3), Vector3(3, 0, -15), Vector3(-15, 0, 3)])
movement_speed = 15.0

[node name="Hamster3" parent="Node3D" instance=ExtResource("9_evv1w")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -15, 25, 3)
patrol_points = Array[Vector3]([Vector3(-15, 0, 3), Vector3(-15, 0, -15), Vector3(3, 0, -15), Vector3(3, 0, 3)])
movement_speed = 15.0

[node name="Hamster4" parent="Node3D" instance=ExtResource("9_evv1w")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3, 25, -15)
patrol_points = Array[Vector3]([Vector3(3, 0, -15), Vector3(3, 0, 3), Vector3(-15, 0, 3), Vector3(-15, 0, -15)])
movement_speed = 15.0

[connection signal="cheese_collected" from="Cheese/Cheese 1" to="Player" method="collect_cheese"]
[connection signal="body_entered" from="Ledges/Area3D" to="Player" method="ledge_entered"]
[connection signal="body_entered" from="Ledges/Area3D2" to="Player" method="ledge_entered"]
[connection signal="body_entered" from="Ledges/Area3D3" to="Player" method="ledge_entered"]
[connection signal="body_entered" from="Ledges/Area3D4" to="Player" method="ledge_entered"]
[connection signal="body_entered" from="Ledges/Area3D5" to="Player" method="ledge_entered"]
